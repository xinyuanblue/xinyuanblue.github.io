/* START OF MODIFIED style.css */

/* 基础样式 */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #2ecc71;
    --text-color: #333;
    --bg-color: #f5f5f5;
    --navbar-bg: rgba(255, 255, 255, 0.9);
    --navbar-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    --font-size-base: 16px;
    --line-height-base: 1.6; /* Default line height */
    --transition-speed: 0.3s;
    --focus-outline-color: #2ecc71;
    --focus-outline-width: 3px;
}

/* 无障碍模式变量 */
body.accessibility-mode {
    --primary-color: #0066cc;
    --text-color: #000;
    --bg-color: #fff;
    --navbar-bg: rgba(255, 255, 255, 1);
    --navbar-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    --font-size-base: 18px;
    --line-height-base: 1.8; /* Increased line height for accessibility */
}

body {
    font-family: 'Microsoft YaHei', sans-serif;
    background: var(--bg-color);
    color: var(--text-color);
    line-height: var(--line-height-base); /* Use variable */
    font-size: var(--font-size-base);
    transition: all 0.3s ease;
    /* Default text alignment for the body - affects inheritance */
    text-align: left;
}

/* --- NEW: Default Paragraph Styling --- */
/* Apply left-align and indent to paragraphs within common content containers */
.container p, /* General paragraphs inside the main container */
.main-section p,
.analysis-section p,
.content-block p,
.model-details p,
.management-response p,
.luoyang-summary p,
.reference-value p,
.spatial-planning-analysis p, /* Added for specific section */
.operation-snapshot .analysis-text-wrapper p, /* Added */
.feedback-heatmap-analysis .analysis-interpretation p, /* Added */
.library-showcase-section > p, /* Paragraph directly under showcase section */
#luoyang-model-reveal > .container > p, /* Paragraphs directly in model reveal container */
.cost-challenge-analysis > p, /* Paragraphs in cost challenge */
#citizen-feedback-optimization > .container > p, /* Paragraphs directly in feedback container */
#spatial-decoding > .container > p, /* Paragraphs directly in spatial container */
.data-methodology-section p,
/* Target the specific intro paragraphs that should be indented */
div[style*="background-color: #f8f9fa"] > p[data-i18n],
p[data-i18n="map_guide_interpret_desc"], /* Added for map guide */
.why-205-section p, /* Added for specific section */
.timeline-card .card-content p:not(.data-highlight):not(.data-context), /* Indent descriptions in timeline cards */
.story-module-full p, /* Indent paragraphs in timeline story modals */
.modal-description p /* Indent modal description */
{
    text-align: left;
    text-indent: 2em; /* Default first-line indent */
    margin-bottom: 1em; /* Add default spacing below paragraphs */
}

/* --- NEW: Overrides for Elements that should NOT be indented or should be centered --- */
/* Titles, subtitles, labels, captions, credits, centered text, etc. */
h1, h2, h3, h4, h5, h6,
.section-title,
.sub-section-title,
.subtitle,
.key-stats .stat-label,
.stats-container .stat-label,
.achievement-desc,
.credits p,
.copyright p,
.disclaimer p,
.present-intro,
.belief-intro p,
.library-caption p,
.features-grid .feature-card p,
.data-source p,

.chart-description-brief,
.tag,
.demo-data-notice,
.link-item,
.stat-box .stat-label,
.intro-questions ul p, /* Paragraphs in the question list */
p.data-highlight, /* Data highlights in timeline cards */
p.data-context,  /* Data context in timeline cards */
.chart-analysis p, /* Paragraphs in chart analysis boxes */

.map-guide-container p, /* General paragraphs in map guide unless specified otherwise */
.map-guide-container ul p, /* Paragraphs inside lists in map guide */
.map-guide-note, /* Specific note in map guide */
.policy-note p,
.feedback-quote,
.dialogue-box p,
.evidence-box p,
.modal-details p, /* Basic info paras in modal */
.modal-details ul li, /* List items in modal */
.final-message p,
.emphasis,
.highlight,
.insights p,
.belief-item p, /* Belief item descriptions (often short) */
.impact-group li, /* Impact list items */
.findings-list p,
.findings-list li,
.we-believe,
.data-description p, /* Data description boxes */
/* Paragraphs used explicitly for centering */
p[style*="text-align: center"],
.timeline-intro p, /* Specific centered intro text */
.footer-info p, /* Footer text */
.footer-links a /* Footer links */
{
    text-indent: 0 !important; /* Remove first-line indent */
}

/* Ensure elements that need centering *stay* centered */
h1, h2, h3, h4, h5, h6, /* Headings often centered by specific rules */
.section-title,
.sub-section-title,
.subtitle,
.key-stats,
.key-stats .stat-item,
.stats-container,
.stats-container .stat-item,
.stat-box,
.credits,
.copyright,
.disclaimer,
.present-intro,
.belief-intro,
.library-caption,
.features-grid .feature-card,
.chart-description-brief, /* Keep this centered */
.charts-intro,
.map-preview,
.map-links,
.showcase-item.library-card .library-caption,
.library-showcase .data-source,
.timeline-intro,
.unexpected-findings,
.findings-list,
.conclusion,
.final-message,
.we-believe,
/* Specific paragraphs that should remain centered */
.intro-questions p[data-i18n="intro_guide_v3_part1"],
p.data-highlight,
p.data-context
{
    text-align: center; /* Explicitly set center alignment */
}

/* Ensure elements that need right alignment stay right aligned */
.data-source {
    text-align: right; /* Keep right alignment on larger screens */
}
@media (max-width: 768px) {
    .data-source {
        text-align: center; /* Center on small screens */
    }
}

/* --- End of Default Paragraph Styling Section --- */


/* 内容容器 */
.content-container {
    margin-top: 20px;
    min-height: calc(100vh - 40px);
}

/* 新的简化版无障碍按钮 */
.accessibility-buttons {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1001;
    display: flex;
    flex-direction: column;
    gap: 10px;
    background: var(--navbar-bg);
    padding: 10px;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
}

.accessibility-buttons button {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border: 2px solid var(--primary-color);
    border-radius: 50%;
    background: transparent;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
}

.accessibility-buttons button[aria-pressed="true"] {
    background: var(--primary-color);
    color: var(--bg-color);
}

.accessibility-buttons button:hover {
    opacity: 0.9;
    transform: translateY(-2px);
}

.accessibility-buttons button i {
    font-size: 1.2em;
}

/* 字体大小控制 */
body.font-size-large {
    --font-size-base: 20px;
}

body.font-size-larger {
    --font-size-base: 22px;
}

/* 高对比度模式 */
:root[class~="high-contrast"] {
    --primary-color: #ffff00;
    --text-color: #ffffff;
    --bg-color: #000000;
    --navbar-bg: #000000;
    --navbar-shadow: 0 2px 10px rgba(255, 255, 255, 0.2);
}

/* 高对比度模式下的输入框和文本框样式 */
:root[class~="high-contrast"] input,
:root[class~="high-contrast"] textarea,
:root[class~="high-contrast"] select,
:root[class~="high-contrast"] .input-card,
:root[class~="high-contrast"] .input-item,
:root[class~="high-contrast"] .amap-info-content,
:root[class~="high-contrast"] .amap-info-outer {
    background-color: #000000 !important;
    color: #ffffff !important;
    border: 1px solid #ffff00 !important;
}

:root[class~="high-contrast"] .btn {
    background-color: #333333 !important;
    color: #ffff00 !important;
    border: 1px solid #ffff00 !important;
}

:root[class~="high-contrast"] .btn:hover,
:root[class~="high-contrast"] .btn.active {
    background-color: #ffff00 !important;
    color: #000000 !important;
}

:root[class~="high-contrast"] .stat-item,
:root[class~="high-contrast"] .feature-card,
:root[class~="high-contrast"] .timeline-card,
:root[class~="high-contrast"] .problem-item,
:root[class~="high-contrast"] .dialogue-box {
    background-color: #333333 !important;
    color: #ffffff !important;
    border: 1px solid #ffff00 !important;
}

/* 高对比度模式下的链接和按钮 */
:root[class~="high-contrast"] a {
    color: #ffff00 !important;
    text-decoration: underline !important;
}

/* 焦点样式 */
a:focus, button:focus {
    outline: 3px solid var(--primary-color);
    outline-offset: 3px;
}

/* 无障碍增强样式 */
[data-theme="high-contrast"] {
    --primary-color: #ffff00;
    --text-color: #ffffff;
    --bg-color: #000000;
    --navbar-bg: rgba(0, 0, 0, 0.9);
}

/* 大字体模式 */
:root[data-font-size="large"] {
    --font-size-base: 20px;
}

:root[data-font-size="x-large"] {
    --font-size-base: 24px;
}

/* 行高增强模式 */
:root[data-line-height="increased"] {
    --line-height-base: 2;
}

/* 焦点样式增强 */
*:focus {
    outline: var(--focus-outline-width) solid var(--focus-outline-color);
    outline-offset: 2px;
}

/* 语言切换按钮样式 */
.language-switch {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1001;
    display: flex;
    gap: 10px;
}

.language-switch button {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border: 2px solid var(--primary-color);
    border-radius: 50%;
    background: transparent;
    color: var(--text-color);
    cursor: pointer;
    transition: all 0.3s ease;
}

.language-switch button.active {
    background: var(--primary-color);
    color: white;
}

.language-switch button:hover {
    opacity: 0.9;
    transform: translateY(-2px);
}

.language-switch button i {
    font-size: 1.2em;
    margin-right: 2px;
}

.lang-text {
    font-size: 0.8em;
    font-weight: bold;
}

/* 响应式设计增强 */
@media (max-width: 768px) {
    .accessibility-buttons {
        bottom: 10px;
        right: 10px;
        flex-direction: row;
        flex-wrap: wrap;
    }

    .language-switch {
        top: 10px;
        right: 10px;
    }

    .lang-text {
        display: none;
    }

    .language-switch button i {
        margin-right: 0;
    }
}

/* 打印优化 */
@media print {
    .accessibility-buttons,
    .language-switch {
        display: none;
    }
}

/* 首页主要内容样式 */
.container {
    max-width: 1200px;  /* 内容最大宽度 */
    margin: 0 auto;  /* 水平居中 */
    padding: 40px 20px;  /* 内边距 */
}

/* 主标题样式 */
h1 {
    text-align: center;  /* 居中对齐 */
    color: #2c3e50;  /* 深蓝色 */
    margin-bottom: 40px;  /* 底部外边距 */
    font-size: 2.5em;  /* 字体大小 */
}

/* 副标题样式 (保持居中) */
.subtitle {
    text-align: center;
    color: #7f8c8d;
    margin-bottom: 30px;
    font-size: 1.2em;
}

/* 时间线容器样式 */
.timeline {
    position: relative;  /* 相对定位 */
    max-width: 1000px;  /* 最大宽度 */
    margin: 0 auto;  /* 水平居中 */
    background:
        url("static/picture/生长背景.png") no-repeat bottom center;  /* 仅保留第一张背景图片 */
    background-size: 95%;  /* 背景图片尺寸调整为单一值 */
    padding: 40px 0;  /* 内边距 */
    border-radius: 12px;  /* 圆角边框 */
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);  /* 阴影效果 */
}

/* 时间线中轴线样式 */
.timeline::after {
    content: '';  /* 创建伪元素 */
    position: absolute;  /* 绝对定位 */
    width: 6px;  /* 宽度6px */
    background: linear-gradient(to bottom, #2ecc71, #27ae60, #219653, #1e874b);  /* 绿色渐变背景 */
    top: 0;  /* 顶部对齐 */
    bottom: 0;  /* 底部对齐 */
    left: 50%;  /* 居中放置 */
    margin-left: -3px;  /* 向左偏移以居中 */
    z-index: 1;  /* 层级 */
}

/* 时间线项目样式 */
.timeline-item {
    padding: 10px 40px;  /* 内边距 */
    position: relative;  /* 相对定位 */
    width: 50%;  /* 宽度为容器的一半 */
    animation: fadeIn 1s ease-in;  /* 淡入动画 */
    z-index: 2;  /* 层级 */
}

/* 定义淡入动画 */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }  /* 起始状态 */
    to { opacity: 1; transform: translateY(0); }  /* 结束状态 */
}

/* 时间线项目装饰点样式 */
.timeline-item::after {
    content: '🌱';  /* 使用植物emoji作为装饰 */
    position: absolute;  /* 绝对定位 */
    width: 30px;  /* 宽度 */
    height: 30px;  /* 高度 */
    right: -17px;  /* 右侧偏移 */
    background-color: white;  /* 白色背景 */
    border: 4px solid #2ecc71;  /* 绿色边框 */
    top: 15px;  /* 顶部偏移 */
    border-radius: 50%;  /* 圆形边框 */
    z-index: 3;  /* 层级 */
    font-size: 16px;  /* 字体大小 */
    line-height: 22px;  /* 行高 */
    text-align: center;  /* 文本居中 */
    display: flex;  /* 弹性布局 */
    align-items: center;  /* 垂直居中 */
    justify-content: center;  /* 水平居中 */
}

/* 左侧时间线项目样式 */
.left {
    left: 0;  /* 左对齐 */
}

/* 右侧时间线项目样式 */
.right {
    left: 50%;  /* 右侧偏移50% */
}

/* 右侧时间线项目装饰点位置调整 */
.right::after {
    left: -16px;  /* 左侧偏移 */
}

/* 时间线内容样式 */
.content {
    padding: 20px 30px;  /* 内边距 */
    background-color: rgba(255, 255, 255, 0.85);  /* 半透明白色背景 */
    position: relative;  /* 相对定位 */
    border-radius: 6px;  /* 圆角边框 */
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);  /* 阴影效果 */
    z-index: 2;  /* 层级 */
}

/* 内容标题样式 (保持居中或左对齐，取决于设计) */
.content h2 {
    color: #2ecc71;
    margin-bottom: 10px;
    font-size: 1.5em;
    text-align: left; /* Or center if preferred */
    text-indent: 0; /* No indent for headings */
}

/* 内容列表样式 */
.content ul {
    margin-left: 20px;
    padding-left: 0; /* Reset padding if list-style is used */
    list-style-position: outside; /* Ensure bullets are outside */
}

/* 列表项样式 */
.content li {
    margin-bottom: 8px;
    text-indent: 0; /* Ensure list items don't inherit indent */
}
/* Ensure paragraphs inside list items are not indented */
.content li p {
    text-indent: 0 !important;
    margin-bottom: 0; /* Remove extra margin if needed */
}


/* 政策相关文本样式 */
.policy {
    color: #2980b9;
    font-weight: 500;
}

/* 成长阶段说明文本样式 (保持居中或左对齐) */
.growth-stage {
    font-size: 0.9em;
    color: #7f8c8d;
    margin-top: 5px;
    font-style: italic;
    text-align: left; /* Or center */
    text-indent: 0; /* No indent */
}

/* 地图预览区域样式 */
.map-preview {
    margin-top: 60px;
    text-align: center;
    padding: 30px 0;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* 地图预览标题样式 */
.map-preview h2 {
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center; /* Keep centered */
    text-indent: 0;
}

/* 地图链接容器样式 */
.map-links {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-top: 20px;
}

/* 地图链接按钮样式 */
.map-link {
    padding: 12px 25px;
    background-color: #2ecc71;
    color: white;
    text-decoration: none;
    border-radius: 30px;
    font-weight: bold;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
}

/* 地图链接悬停效果 */
.map-link:hover {
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4);
}

/* 地图链接图标样式 */
.map-link svg {
    margin-right: 8px;
}

/* 响应式布局调整 */
@media screen and (max-width: 600px) {
    /* 时间线中轴线位置调整 */
    .timeline::after {
        left: 31px;
        z-index: 1;
    }

    /* 时间线项目宽度调整 */
    .timeline-item {
        width: 100%;
        padding-left: 70px;
        padding-right: 25px;
        z-index: 2;
    }

    /* 时间线项目装饰点位置调整 */
    .timeline-item::after {
        left: 15px;
        z-index: 3;
    }

    /* 右侧时间线项目位置调整 */
    .right {
        left: 0%;
    }

    /* 地图链接容器布局调整 */
    .map-links {
        flex-direction: column;
        align-items: center;
    }
}

/* 数据分析区域样式 */
.data-analysis {
    max-width: 1200px;
    margin: 60px auto;
    padding: 0 20px;
}

/* 分析部分样式 */
.analysis-section {
    background: white;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    padding: 30px;
    margin-bottom: 40px;
}

/* 图表容器样式 */
.chart-container {
    max-width: 600px;
    margin: 0 auto 30px;
    height: 350px;
    position: relative;
}

/* 演示数据提示样式 */
.demo-data-notice {
    position: absolute;
    top: 10px;
    right: 10px;
    background-color: rgba(255, 193, 7, 0.2);
    color: #856404;
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 0.8em;
    border: 1px solid rgba(255, 193, 7, 0.4);
    z-index: 10;
}

/* 成本项目列表样式 */
.cost-items {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin: 20px 0;
}

/* 单个成本项目样式 */
.cost-item {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 6px;
    text-align: center; /* Keep centered */
}

/* 成本标签样式 (保持居中) */
.cost-label {
    font-weight: bold;
    color: #2c3e50;
    text-indent: 0;
}

/* 成本数值样式 (保持居中) */
.cost-value {
    color: #e74c3c;
    font-size: 1.2em;
    text-indent: 0;
}

/* 成本百分比样式 (保持居中) */
.cost-percent {
    color: #7f8c8d;
    font-size: 0.9em;
    text-indent: 0;
}

/* 资金来源区域样式 */
.funding-sources {
    margin-top: 30px;
    padding: 20px;
    background: #f8f9fa;
    border-radius: 6px;
}
/* Ensure p inside funding-sources follows default */
.funding-sources p {
    text-indent: 2em;
    text-align: left;
    margin-bottom: 1em;
}
.funding-sources ul {
    margin-left: 20px; /* Keep list indentation */
    margin-bottom: 1em;
}
.funding-sources li {
    text-indent: 0; /* List items no indent */
    margin-bottom: 0.5em;
}

/* 市民反馈分析区域样式 */
.feedback-analysis {
    margin-top: 40px;
}

/* 反馈趋势区域样式 */
.feedback-trend {
    margin-top: 20px;
}

/* 社交媒体分析区域样式 */
.social-media-analysis {
    margin-top: 40px;
}

/* 词云图容器样式 */
.wordcloud-container {
    max-width: 600px;
    margin: 40px auto;
    height: 400px;
    position: relative;
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    display: flex;
    justify-content: center;
    align-items: center;
}

/* 词云图画布定位样式 */
.wordcloud-container canvas {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}

/* 标签列表样式 */
.tag-list {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-top: 15px;
    justify-content: center; /* Center tags if needed */
}

/* 单个标签样式 */
.tag {
    background-color: #f0f2f5;
    padding: 5px 12px;
    border-radius: 15px;
    font-size: 0.9em;
    color: #2c3e50;
    text-indent: 0; /* No indent for tags */
}

/* 标签悬停效果 */
.tag:hover {
    background-color: #e2e5e9;
    transform: translateY(-2px);
    transition: all 0.3s ease;
}

/* 底部信息区域样式 */
.footer-info {
    margin-top: 60px;
    padding: 40px 20px;
    background: #f8f9fa;
    border-top: 1px solid #eee;
}

/* 制作人员信息样式 */
.credits {
    max-width: 800px;
    margin: 0 auto 20px; /* Adjusted margin */
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    text-align: center; /* Keep credits centered */
}

/* 制作人员标题样式 */
.credits h3 {
    color: #2c3e50;
    margin-bottom: 10px;
    font-size: 1.2em;
    text-align: center; /* Keep centered */
    text-indent: 0;
}

/* 制作人员文本样式 */
.credits p {
    color: #7f8c8d;
    margin: 0;
    padding: 10px;
    background: #f8f9fa; /* Should likely be #fff or transparent if container is #f8f9fa */
    border-radius: 6px;
    transition: all 0.3s ease;
    text-align: center; /* Keep centered */
    text-indent: 0;
}

/* 制作人员文本悬停效果 */
.credits p:hover {
    background: #e9ecef;
    transform: translateY(-2px);
}

/* 版权信息样式 */
.copyright {
    text-align: center;
    color: #95a5a6;
    margin: 20px 0;
    font-size: 0.9em;
}
.copyright p {
    text-align: center;
    text-indent: 0;
    margin-bottom: 0;
}

/* 免责声明样式 */
.disclaimer {
    text-align: center;
    color: #7f8c8d;
    font-size: 0.85em;
    padding: 10px;
    background: rgba(0,0,0,0.02);
    border-radius: 4px;
}

/* 免责声明段落样式 */
.disclaimer p {
    margin: 0;
    text-align: center; /* Keep centered */
    text-indent: 0;
    margin-bottom: 0;
}

/* 新增的解释性章节样式 */
.why-205-section {
    max-width: 1000px;
    margin: 60px auto;
    padding: 0 20px;
}

/* 过去与现在对比区域样式 */
.past-present-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30px; /* Reduced gap slightly */
    max-width: 1200px;
    margin: 0 auto;
}

/* 过去和现在的共同样式 */
.past-card, .present-card { /* Combined selector */
    padding: 25px;
    background: #fff; /* Changed to white */
    border-radius: 10px;
    height: 100%;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08); /* Unified shadow */
}

.past-card {
    border-top: 5px solid #e74c3c;
}

.present-card {
    border-top: 5px solid #2ecc71;
}


.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    border-bottom: 1px solid #eee;
    padding-bottom: 15px;
}

.card-header h3 {
    margin: 0;
    color: #2c3e50;
    font-size: 1.5em;
    text-align: left; /* Align header text left */
    text-indent: 0;
}

.timeline-icon {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2em;
}

.past-card .timeline-icon {
    background-color: #e74c3c;
    color: white;
}

.present-card .timeline-icon {
    background-color: #2ecc71;
    color: white;
}

.content-block { /* Added wrapper for content blocks */
    margin-bottom: 25px;
}
.content-block:last-child {
    margin-bottom: 0;
}

.content-block h4 {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
    color: #34495e; /* Unified color */
    font-size: 1.1em;
    text-align: left; /* Align block titles left */
    text-indent: 0;
}
.past-card .content-block h4 i { color: #e74c3c; }
.present-card .content-block h4 i { color: #2ecc71; }


.content-block p {
    /* Default indent applies here unless it's highlight/context */
    line-height: 1.6;
    color: #555;
    margin-bottom: 0.5em;
}
.content-block p.data-highlight {
    font-size: 1.8em;
    font-weight: 700;
    color: #3498db; /* Example color */
    margin: 5px 0;
    text-align: center; /* Keep centered */
    text-indent: 0;
}
.content-block p.data-context {
    font-size: 0.9em;
    color: #7f8c8d;
    margin-top: -5px;
    margin-bottom: 10px;
    text-align: center; /* Keep centered */
    text-indent: 0;
}

.content-block ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
}
.content-block li {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 8px;
    color: #555;
    text-indent: 0;
}
.past-card .content-block li i { color: #e74c3c; }
.present-card .content-block li i { color: #2ecc71; }


.problem-item { /* Renamed from .problems */
    margin-bottom: 20px;
}

.problem-item h4 { /* Renamed from .problems */
    display: flex;
    align-items: center;
    color: #e74c3c;
    margin-bottom: 10px;
    text-align: left; /* Ensure left alignment */
    text-indent: 0;
}

.problem-item h4 i { /* Renamed from .problems */
    margin-right: 10px;
}

.problem-details { /* Renamed from .problems */
    padding-left: 15px;
}

.detail-item { /* Renamed from .problems */
    display: flex;
    align-items: center;
    margin-bottom: 8px;
    text-indent: 0;
}

.detail-item i { /* Renamed from .problems */
    margin-right: 10px;
    color: #7f8c8d;
}

.dialogue-box {
    background: #f8f9fa;
    border-left: 4px solid #e74c3c;
    padding: 15px;
    border-radius: 0 5px 5px 0;
}
.dialogue-box p {
    margin-bottom: 0.5em; /* Add spacing */
    /* Default indent applies */
}

/* Child/Mother Quote specific styling if needed */
.child-quote, .mother-quote {
    margin: 10px 0;
    font-style: italic;
    position: relative;
    padding-left: 20px;
    text-indent: 0; /* Quotes often don't indent */
}
.child-quote:before, .mother-quote:before {
    content: '"';
    position: absolute;
    left: 0;
    color: #2ecc71;
    font-size: 1.5em;
}

/* Beliefs section adjustments */
.beliefs {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin: 30px 0;
}
.belief-intro {
    grid-column: 1 / -1;
    text-align: center; /* Keep centered */
    margin-bottom: 20px;
}
.belief-intro h2 {
    color: #2c3e50;
    margin-bottom: 15px;
    font-size: 1.8em;
    text-align: center; /* Keep centered */
    text-indent: 0;
}
.belief-intro p {
    color: #34495e;
    line-height: 1.6;
    max-width: 800px;
    margin: 0 auto;
    font-size: 1.1em;
    text-align: center; /* Keep centered */
    text-indent: 0;
}
.belief-item {
    background: white;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    text-align: left;
    display: flex;
    align-items: flex-start;
    gap: 15px;
    transition: transform 0.3s ease;
}
.belief-item:hover {
    transform: translateY(-5px);
}
.belief-item i {
    color: #2ecc71;
    font-size: 1.5em;
    padding-top: 3px;
}
.belief-item p {
    margin: 0;
    line-height: 1.6;
    text-indent: 0; /* Belief item descriptions usually short, no indent */
}

/* Impact Grid adjustments */
.impact-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 25px;
    margin: 40px 0;
}
.impact-group {
    background: white;
    padding: 25px;
    border-radius: 10px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
    transition: transform 0.3s ease;
}
.impact-group:hover {
    transform: translateY(-5px);
}
.impact-group h3 {
    color: #2ecc71;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
    text-align: left; /* Ensure left */
    text-indent: 0;
}
.impact-group h3:before {
    content: '•';
    color: #2ecc71;
    font-size: 1.5em;
}
.impact-group ul {
    list-style: none;
    padding: 0;
    margin: 0;
}
.impact-group li {
    margin: 10px 0;
    padding-left: 20px;
    position: relative;
    text-indent: 0; /* List items no indent */
}
.impact-group li:before {
    content: '→';
    position: absolute;
    left: 0;
    color: #2ecc71;
}
.impact-group li p { /* Paragraphs inside list items */
    text-indent: 0 !important;
    margin-bottom: 0;
}

/* Unexpected Findings adjustments */
.unexpected-findings {
    background: #fff;
    padding: 30px;
    border-radius: 15px;
    margin: 40px 0;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
    text-align: center; /* Keep centered */
}
.unexpected-findings h2 {
    color: #2c3e50;
    margin-bottom: 20px;
    text-align: center; /* Keep centered */
    text-indent: 0;
}
.findings-list {
    max-width: 600px;
    margin: 0 auto;
    text-align: center; /* Keep centered */
}
.findings-list p {
    margin-bottom: 20px;
    font-size: 1.1em;
    text-align: center; /* Keep centered */
    text-indent: 0;
}
.findings-list ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: inline-block;
    text-align: left; /* Align list items left within the centered block */
}
.findings-list li {
    margin: 15px 0;
    font-size: 1.1em;
    color: #2c3e50;
    text-align: left; /* Align list items left */
    text-indent: 0;
    position: relative;
    padding-left: 25px; /* Space for checkmark */
}
.findings-list li:before {
    content: '✓';
    position: absolute;
    left: 0;
    color: #2ecc71;
    /* display: block; */ /* Make it visible */
    font-size: 1.1em; /* Adjust size */
}


/* Conclusion adjustments */
.conclusion {
    text-align: center; /* Keep centered */
    margin: 40px 0;
    padding: 40px;
    background: #fff;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.05);
}
.conclusion h2 {
    font-size: 2em;
    color: #2c3e50;
    margin-bottom: 30px;
    text-align: center; /* Keep centered */
    text-indent: 0;
}
.highlight {
    font-size: 1.6em;
    color: #2ecc71;
    margin: 40px 0;
    line-height: 1.6;
    text-align: center; /* Keep centered */
    text-indent: 0;
}
.insights {
    max-width: 800px;
    margin: 0 auto;
    text-align: center; /* Keep centered */
}
.insights p {
    font-size: 1.3em;
    color: #2c3e50;
    margin: 30px 0;
    text-align: center; /* Keep centered */
    text-indent: 0;
}
.insights ul {
    list-style: none;
    padding: 0;
    margin: 30px 0;
    display: inline-block; /* Allow centering */
    text-align: left; /* Align list items left */
}
.insights li {
    margin: 20px 0;
    color: #2c3e50;
    font-size: 1.3em;
    line-height: 1.6;
    text-align: left; /* Align list items left */
    text-indent: 0;
}
.final-message {
    margin-top: 50px;
    text-align: center; /* Keep centered */
}
.final-message p {
    font-size: 1.3em;
    margin: 15px 0;
    color: #2c3e50;
    text-align: center; /* Keep centered */
    text-indent: 0;
}
.emphasis {
    font-size: 1.5em;
    font-weight: 500;
    margin: 20px 0;
    color: #2c3e50;
    line-height: 1.6;
    text-align: center; /* Keep centered */
    text-indent: 0;
}


.present-intro {
    font-size: 1.1em;
    color: #2c3e50;
    margin-bottom: 20px;
    line-height: 1.6;
    text-align: center; /* Keep centered */
    text-indent: 0;
}

.achievement-list {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin: 20px 0;
}

.achievement-item {
    background: white;
    padding: 15px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    gap: 10px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    transition: transform 0.3s ease;
}

.achievement-item:hover {
    transform: translateY(-3px);
}

.achievement-item i {
    color: #2ecc71;
    font-size: 1.5em;
}

.achievement-content {
    display: flex;
    flex-direction: column;
    text-align: left; /* Align content left */
}

.achievement-number {
    font-size: 1.2em;
    font-weight: bold;
    color: #2c3e50;
    text-indent: 0;
}

.achievement-desc {
    font-size: 0.9em;
    color: #7f8c8d;
    text-indent: 0;
}

.present-features {
    margin-top: 20px;
}

.present-features ul {
    list-style: none;
    padding: 0;
}

.present-features li {
    margin: 10px 0;
    display: flex;
    align-items: center;
    gap: 10px;
    color: #2c3e50;
    text-indent: 0;
}

.present-features i {
    color: #2ecc71;
}

.public-reading, .reading-issues, .service-gap {
    background: white;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.public-reading h4, .reading-issues h4, .service-gap h4 {
    color: #2c3e50;
    margin-bottom: 15px;
    font-size: 1.1em;
    display: flex;
    align-items: center;
    gap: 10px;
    text-align: left; /* Ensure left */
    text-indent: 0;
}

.public-reading h4 i, .reading-issues h4 i, .service-gap h4 i {
    color: #2ecc71;
}

.reading-issues ul {
    list-style: none;
    padding: 0;
    margin: 0;
}

.reading-issues li {
    margin: 10px 0;
    padding-left: 25px;
    position: relative;
    display: flex;
    align-items: center;
    gap: 10px;
    text-indent: 0; /* List items no indent */
}

.reading-issues li i {
    color: #2ecc71;
    width: 20px;
}

.evidence-box {
    background: rgba(46, 204, 113, 0.05);
    padding: 15px;
    border-radius: 8px;
    margin-top: 10px;
}

.evidence-box p {
    margin: 0 0 10px 0;
    color: #7f8c8d;
    font-size: 0.9em;
    /* Default indent applies unless overridden */
}
.evidence-box p:last-child { margin-bottom: 0; }

.feedback-quote {
    color: #2c3e50;
    font-style: italic;
    position: relative;
    padding-left: 20px;
    margin: 0;
    text-indent: 0; /* Quotes no indent */
}

.feedback-quote:before {
    content: '"';
    position: absolute;
    left: 0;
    color: #2ecc71;
    font-size: 1.5em;
}

.we-believe {
    text-align: center;
    margin-bottom: 20px;
    font-size: 1.2em;
    color: #2c3e50;
    grid-column: 1 / -1;
    text-indent: 0; /* Keep centered */
}

.policy-note {
    background: #f8f9fa;
    border-left: 4px solid #2980b9;
    padding: 10px;
    margin-top: 15px;
}
.policy-note p {
    /* Default indent applies */
    margin-bottom: 0.5em;
}
.policy-note p:last-child { margin-bottom: 0; }

.present-features h4 {
    text-align: center; /* Keep centered */
    margin-bottom: 25px;
    color: #2c3e50;
    font-size: 1.4em;
    text-indent: 0;
}

.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 15px;
}

/* Corrected .feature-card for grid */
.features-grid .feature-card {
    background: #f8f9fa;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center; /* Keep centered */
}

/* 特点卡片悬停效果 */
.features-grid .feature-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

/* 特点卡片图标样式 */
.features-grid .feature-card i {
    font-size: 2.5em;
    color: #3498db;
    margin-bottom: 15px;
}

/* 特点卡片标题样式 */
.features-grid .feature-card h5 {
    font-size: 1.2em;
    margin-bottom: 10px;
    color: #2c3e50;
    text-align: center; /* Keep centered */
    text-indent: 0;
}

/* 特点卡片段落样式 */
.features-grid .feature-card p {
    color: #7f8c8d;
    line-height: 1.5;
    text-align: center; /* Keep centered */
    text-indent: 0;
}


/* 空间分布部分样式 */
.spatial-distribution {
    max-width: 1200px;
    margin: 0 auto 50px;
    text-align: center; /* Keep container centered */
    padding: 30px;
    background-color: #f9f9f9;
    border-radius: 10px;
    box-shadow: 0 2px 15px rgba(0, 0, 0, 0.05);
    border-left: 5px solid #8e44ad;
}
/* Title within spatial distribution */
.spatial-distribution .sub-section-title {
    text-align: center; /* Keep centered */
    text-indent: 0;
}

.section-description {
    color: #555;
    line-height: 1.6;
    margin-bottom: 25px;
    text-align: center; /* Keep centered */
    text-indent: 0;
}

.map-buttons {
    display: flex;
    justify-content: center;
    gap: 20px;
    flex-wrap: wrap;
    margin-bottom: 25px; /* Added margin */
}

.map-button {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 12px 25px;
    background-color: #8e44ad;
    color: white;
    border-radius: 30px;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
    min-width: 200px;
}

.map-button:hover {
    background-color: #9b59b6;
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.map-button .icon {
    font-size: 18px;
    margin-right: 8px;
}

.map-button.reading-circle {
    background-color: #8e44ad;
}

.map-button.population-heat {
    background-color: #9b59b6;
}

/* Map Guide Styles */
.map-guide-container {
    text-align: left; /* Override parent center alignment */
}
.map-guide-container h4,
.map-guide-container h5 {
    text-align: left; /* Ensure guide headings are left aligned */
    text-indent: 0;
}
.map-guide-container p {
    /* Default indent applies */
    text-align: left;
}
.map-guide-container ul {
    list-style: none;
    padding-left: 0;
    margin-bottom: 1em;
}
.map-guide-container li {
    text-indent: 0; /* List items no indent */
    margin-bottom: 0.8em;
    display: flex;
    align-items: baseline; /* Align text baseline */
    gap: 10px;
}
.map-guide-container li i {
    width: 18px; /* Consistent icon width */
    text-align: center;
    color: #27ae60; /* Example color */
    flex-shrink: 0; /* Prevent icon shrinking */
    padding-top: 3px; /* Adjust vertical alignment */
}
.map-guide-container .guide-column-left li i {
    color: #e74c3c; /* Marker color */
}
.map-guide-container .guide-column-right li {
    align-items: flex-start; /* Allow multi-line text to wrap correctly */
}
.map-guide-note {
    font-style: italic;
    text-indent: 0 !important; /* No indent for note */
    margin-bottom: 0;
}


.link-item {
    transition: transform 0.2s ease;
    padding: 15px 25px;
    border-radius: 8px;
    background: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    text-align: left; /* Ensure left alignment */
}
.link-item p {
    text-indent: 0; /* No indent for link item text */
}

.link-item:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
}

.icon-wrapper {
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background: rgba(0,0,0,0.03);
    transition: background 0.2s ease;
}

.link-item:hover .icon-wrapper {
    background: rgba(0,0,0,0.05);
}

/* 过去的洛阳图书馆统计样式 */
.city-library-stats {
    background-color: #f8f9fa;
    border-radius: 10px;
    padding: 20px;
    margin: 20px 0;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.city-library-stats h4 {
    color: #2c3e50;
    margin-bottom: 15px;
    font-size: 1.2em;
    border-bottom: 2px solid #e74c3c;
    padding-bottom: 8px;
    display: inline-block;
    text-align: left; /* Ensure left */
    text-indent: 0;
}

.stats-grid {
    display: flex;
    justify-content: space-around;
    flex-wrap: wrap;
    margin-bottom: 20px;
}

.stat-box {
    text-align: center; /* Keep stat boxes centered */
    padding: 15px;
    min-width: 120px;
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    margin: 10px;
    transition: transform 0.3s ease;
}

.stat-box:hover {
    transform: translateY(-5px);
}

/* Corrected .stat-icon */
.stats-grid .stat-icon {
    font-size: 24px;
    color: #e74c3c;
    margin-bottom: 10px;
}

.stat-info .stat-number {
    display: block;
    font-size: 24px;
    font-weight: bold;
    color: #2c3e50;
    text-align: center; /* Keep centered */
    text-indent: 0;
}

.stat-info .stat-label {
    display: block;
    font-size: 14px;
    color: #7f8c8d;
    text-align: center; /* Keep centered */
    text-indent: 0;
}

.library-challenges {
    background-color: #fff;
    border-left: 4px solid #e74c3c;
    padding: 15px;
    border-radius: 0 8px 8px 0;
}

.library-challenges p {
    margin-bottom: 10px;
    color: #34495e;
    /* Default indent applies */
}
.library-challenges p:last-child { margin-bottom: 0; }

.library-challenges i {
    color: #e74c3c;
    margin-right: 8px;
}

.library-challenges strong {
    color: #2c3e50;
}

/* 服务问题样式 */
.service-issues {
    margin-top: 15px;
    background-color: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
}

.service-issues p {
    margin-bottom: 8px;
    color: #34495e;
    font-size: 0.95em;
    /* Default indent applies */
}
.service-issues p:last-child { margin-bottom: 0; }

.service-issues i {
    color: #e67e22;
    margin-right: 8px;
    width: 20px;
    text-align: center;
}

/* 添加开头部分的样式 */
.intro-section {
    margin-bottom: 40px;
    text-align: center; /* Container centered */
    padding: 30px 20px;
    /* Background image handled inline */
    border-radius: 8px; /* May not be visible with full bg image */
}

.main-title {
    color: #2c3e50;
    font-size: 2.8em; /* Adjusted from inline */
    margin-bottom: 40px;
    font-weight: 700;
    text-align: center; /* Keep centered */
    text-shadow: 2px 2px 4px rgba(0,0,0,0.2); /* From inline */
    text-indent: 0;
}

/* Specific intro text boxes */
div[style*="background-color: #f8f9fa"][style*="max-width: 900px"] {
    text-align: left; /* Override container centering */
}
div[style*="background-color: #f8f9fa"] > p.intro-text {
    font-size: 1.2em;
    line-height: 1.8;
    text-align: left;
    text-indent: 2em; /* Apply indent */
    color: #34495e;
    margin-bottom: 15px;
}
div[style*="background-color: #f8f9fa"] > p.intro-text:last-child {
    margin-bottom: 0;
}

/* Key stats (保持居中) */
.key-stats {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 30px;
    margin: 40px auto;
    text-align: center;
}
.key-stats .stat-item {
    text-align: center;
    min-width: 150px;
    /* background/padding/border/shadow handled inline */
}
.key-stats .stat-item div:nth-of-type(1) { /* The number */
    font-size: 2.5em;
    font-weight: 700;
    color: #2c3e50;
    text-align: center;
    text-indent: 0;
}
.key-stats .stat-item div:nth-of-type(1) span { font-size: 0.5em; }
.key-stats .stat-item div:nth-of-type(2) { /* The label */
    font-size: 1.1em;
    color: #7f8c8d;
    text-align: center;
    text-indent: 0;
}


/* Intro Questions Box */
.intro-questions {
    text-align: left; /* Override container centering */
}
.intro-questions ul {
    list-style: none;
    padding-left: 0;
    margin: 0 0 25px 0;
}
.intro-questions li {
    margin-bottom: 15px;
    display: flex;
    align-items: flex-start;
    text-indent: 0; /* List items no indent */
}
.intro-questions li:last-child { margin-bottom: 0; }
.intro-questions li span { /* Icon span */
    color: #2ecc71;
    margin-right: 12px;
    font-size: 1.2em;
    line-height: 1.7;
    flex-shrink: 0;
}
.intro-questions li p {
    font-size: 1.2em;
    line-height: 1.7;
    color: #34495e;
    margin: 0;
    text-indent: 0; /* No indent for question text */
}
.intro-questions > p { /* Paragraph after the list */
    font-size: 1.15em;
    line-height: 1.8;
    color: #555;
    margin-bottom: 15px;
    text-align: center; /* Keep this one centered */
    text-indent: 0;
}
.intro-questions > p strong { color: #2c3e50; }

/* 图表说明样式 (保持居中) */
.charts-intro {
    text-align: center;
    margin-bottom: 30px;
    max-width: 900px;
    margin-left: auto;
    margin-right: auto;
}

.charts-intro p {
    font-size: 16px;
    color: #555;
    line-height: 1.6;
    text-align: center; /* Keep centered */
    text-indent: 0;
}


/* --- Library Showcase Styles --- */
.library-showcase-section {
     text-align: left; /* Default align left for this section */
}
.library-showcase-section .section-title {
    text-align: center; /* Keep section title centered */
}
.library-showcase-section > p { /* Intro paragraph */
    text-align: center; /* Keep intro centered */
    max-width: 850px;
    margin: 0 auto 40px;
    font-size: 1.15em;
    line-height: 1.8;
    color: #34495e;
    text-indent: 0; /* No indent for centered intro */
}

.showcase-grid {
    display: flex;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
    justify-content: center; /* Center items */
    gap: 30px;
    margin: 0 auto;
    max-width: 1000px; /* Limit width */
}
.showcase-item {
    flex: 1 1 300px; /* Flex basis, allow grow/shrink */
    max-width: 350px;
    min-width: 250px; /* Ensure minimum width */
}

.showcase-item.library-card {
    background-color: #fff;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    cursor: pointer; /* Indicate clickable */
    display: flex; /* Use flex for better structure */
    flex-direction: column;
}

.showcase-item.library-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
}

.library-card .library-image {
    height: 220px;
    overflow: hidden;
}

.library-card .library-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
}

.library-card:hover .library-image img {
    transform: scale(1.05);
}

.library-card .library-caption {
    padding: 18px 15px;
    text-align: center; /* Keep caption centered */
    background-color: #f8f9fa;
    border-top: 1px solid #eee;
    flex-grow: 1; /* Allow caption to grow */
}

.library-caption h5 {
    margin: 0 0 8px 0;
    font-size: 1.1em;
    color: #333;
    text-align: center; /* Keep centered */
    text-indent: 0;
}

.library-caption p {
    font-size: 0.95em;
    color: #6c757d;
    margin: 0;
    text-align: center; /* Keep centered */
    text-indent: 0;
}

.library-showcase-section .data-source { /* Style the data source specifically */
    margin-top: 35px;
    text-align: center; /* Keep centered */
    font-size: 0.9em;
    color: #888;
    font-style: italic;
}
.library-showcase-section .data-source p {
    text-align: center; /* Keep centered */
    text-indent: 0;
    margin-bottom: 0;
}

/* --- Modal Styles --- */
.modal {
    display: none; /* 默认隐藏 */
    position: fixed;
    z-index: 1001;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow-y: auto;
    background-color: rgba(0, 0, 0, 0.6);
    align-items: center;
    justify-content: center;
    padding: 20px;
    animation: fadeIn 0.3s ease-out;
}

.modal.show {
    display: flex; /* 当添加.show类时才显示为flex */
}

.modal-content {
    background-color: #fefefe;
    margin: auto; /* Centered */
    padding: 25px 30px;
    border: 1px solid #ddd;
    width: 85%; /* Responsive width */
    max-width: 750px; /* Max width */
    border-radius: 10px;
    position: relative;
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
    animation: slideDown 0.4s ease-out; /* Slide in content */
    text-align: left; /* Default align left */
}

@keyframes slideDown {
    from { transform: translateY(-30px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.close-button {
    color: #aaa;
    font-size: 32px;
    font-weight: bold;
    position: absolute;
    top: 10px;
    right: 20px;
    cursor: pointer;
    line-height: 1;
    transition: color 0.2s ease;
}

.close-button:hover,
.close-button:focus {
    color: #333;
    text-decoration: none;
}

.modal-content h3 {
    margin-top: 0;
    margin-bottom: 15px;
    color: #2c3e50;
    border-bottom: 2px solid #eee;
    padding-bottom: 10px;
    font-size: 1.6em;
    text-align: left; /* Ensure left */
    text-indent: 0;
}

.modal-body-grid {
    display: grid;
    grid-template-columns: 1fr 2fr; /* Image takes 1 part, details take 2 parts */
    gap: 25px;
    margin-top: 20px;
    align-items: start; /* Align items at the start */
}

.modal-image-container img {
    width: 100%;
    max-height: 280px; /* Limit image height */
    object-fit: contain; /* Fit image within container */
    border-radius: 5px;
    border: 1px solid #eee;
    display: block; /* Prevent extra space below image */
    margin: 0 auto; /* Center if grid column is wider */
}

.modal-details h4,
.modal-description h4 {
    font-size: 1.2em;
    color: #3498db; /* Use a consistent highlight color */
    margin-bottom: 10px;
    margin-top: 0;
    display: flex;
    align-items: center;
    text-align: left; /* Ensure left */
    text-indent: 0;
}
.modal-details h4:first-of-type,
.modal-description h4:first-of-type {
     margin-top: 0; /* Remove top margin for first heading */
}
.modal-details h4 i,
.modal-description h4 i {
    margin-right: 8px;
    font-size: 0.9em;
}


.modal-details p { /* Basic info paragraphs */
    font-size: 1em;
    line-height: 1.7;
    color: #444;
    margin-top: 0;
    margin-bottom: 0.5em;
    text-indent: 0 !important; /* No indent for features/basic info */
}

.modal-description p { /* Long description */
    font-size: 1em;
    line-height: 1.7;
    color: #444;
    margin-top: 0;
    margin-bottom: 1em;
    text-indent: 2em !important; /* INDENT the main description */
}
.modal-description p:last-child { margin-bottom: 0;}


.modal-details ul {
    list-style: none;
    padding-left: 0;
    font-size: 0.9em;
    color: #555;
    margin-top: 0;
}

.modal-details ul li {
    margin-bottom: 6px;
    display: flex;
    align-items: center;
    text-indent: 0; /* List items no indent */
}
.modal-details ul li i {
    color: #28a745; /* Green checkmark */
    margin-right: 8px;
    font-size: 0.85em;
}

.modal-description {
    margin-top: 25px;
    padding-top: 15px;
    border-top: 1px solid #f0f0f0;
}

/* Chart specific styles */
.chart-container-pie, .chart-container-bar {
    position: relative;
    margin: auto;
    min-height: 350px;
}

.chart-box {
    margin-bottom: 30px;
}
.chart-box h4 {
    text-align: center; /* Keep chart titles centered */
    font-size: 1.2em;
    margin-bottom: 15px;
    color: #495057;
    text-indent: 0;
}

#heatmap_container, #feedback-heatmap {
    min-height: 400px;
}

/* Ensure ECharts containers have necessary styles */
#costTrendEChart, #nationalDistributionChart, #feedbackMonthlyTrendChart, #perCapitaChart, #populationChart, #districtChart, #midSizeLibraryCostChart, #costStructurePieChart, #subjectChart, #dailyChart, #hourlyChart, #bookstoreTreemap {
     min-height: 300px;
     width: 100%; /* Ensure width is handled */
}
/* Treemap Legend Styles */
.treemap-legend {
    text-align: center; /* Center legend content */
}
.treemap-legend p {
    text-align: center; /* Center legend title */
    text-indent: 0;
    margin-bottom: 8px;
}
.treemap-legend span {
    text-indent: 0; /* Spans don't indent */
}

/* Final check on chart descriptions */
.chart-description {
    margin-top: 15px;
    font-size: 1.05em;
    color: #555; /* Reverted color slightly */
    line-height: 1.6;
    text-align: left; /* Keep left */
    text-indent: 2em; /* Keep indent */
    font-style: normal;
    max-width: 900px; /* Constrain width if needed */
    margin-left: auto;
    margin-right: auto;
    padding: 0 15px; /* Add padding if max-width is used */
}
.chart-analysis p {
    text-indent: 2em !important; /* Ensure analysis text is indented */
    text-align: left;
    margin-bottom: 0.5em;
}
.chart-analysis p:last-child { margin-bottom: 0; }
.chart-analysis h4 { text-indent: 0; }

/* Responsive adjustments for modal and others */
@media (max-width: 768px) {
    .modal-content {
        width: 95%;
        padding: 20px;
    }
    .modal-body-grid {
        grid-template-columns: 1fr; /* Stack image and details */
    }
    .modal-image-container img {
        max-height: 200px;
        margin-bottom: 15px;
    }
    .modal-content h3 { font-size: 1.4em; }
    .modal-details h4, .modal-description h4 { font-size: 1.1em; }

    .past-present-container,
    .beliefs,
    .impact-grid,
    .features-grid {
        grid-template-columns: 1fr;
    }
    .achievement-list {
        grid-template-columns: 1fr;
    }
    .stats-grid {
        flex-direction: column;
    }
    .stat-box {
        width: 100%;
        margin: 5px 0;
    }
    .chart-container { height: 300px; }
    .wordcloud-container { height: 350px; }
    .map-buttons { flex-direction: column; align-items: center; }
    .map-button { width: 100%; }
}

@media (max-width: 480px) {
    .chart-container { height: 250px; }
    .wordcloud-container { height: 300px; }
}







/* END OF MODIFIED style.css */
/* --- Timeline Story Preview Thumbnail Styles --- */
.story-preview {
    /* Add some padding if needed, especially if thumbnail is inside */
    padding: 15px;
    /* Consider making it a flex container if structure demands */
    /* display: flex; */
    /* flex-direction: column; */
    /* gap: 10px; */
}

.story-thumbnail {
    width: 100%; /* Take full width of its container */
    height: 80px; /* Or adjust height as desired */
    background-size: cover;
    background-position: center;
    border-radius: 4px;
    position: relative; /* For positioning the overlay */
    overflow: hidden; /* Ensure overlay corners are clipped */
    margin-bottom: 12px; /* Space between thumbnail and text */
    border: 1px solid #eee; /* Subtle border */
    cursor: pointer; /* Reinforce clickability */
}

.thumbnail-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4); /* Dark semi-transparent overlay */
    color: white;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    opacity: 0; /* Hidden by default */
    transition: opacity 0.3s ease;
    font-size: 0.9em;
    padding: 5px;
}

.story-thumbnail:hover .thumbnail-overlay {
    opacity: 1; /* Show overlay on hover */
}

.thumbnail-overlay i {
    font-size: 1.5em; /* Icon size */
    margin-bottom: 5px;
}


.timeline-item.right .story-preview {
     /* Potentially align items differently */
     text-align: left; /* Ensure text stays left aligned */
}
.timeline-item.right .story-preview .read-full-story {
    text-align: left; /* Keep "read more" link aligned left */
}
/* --- 优化建议总结列表文本样式 --- */
.improvement-summary ul li div {
    text-align: left;     /* 确保左对齐 */
    text-indent: 2em;     /* 添加首行缩进 */
    margin-bottom: 0;     /* 确保div本身没有多余的底部边距 */
}
/* ====================================================== */
/* CSS for Three-Column Visual Legend (Enlarged Version)  */
/* ====================================================== */

/* --- Main Container and Title --- */
.two-column-legend-visual {
    /* Inherits styles from .map-guide-container */
    /* Add specific overrides if needed */
}
.two-column-legend-visual .legend-main-title {
    text-align: center;
    margin: 0 0 25px 0; /* Increased bottom margin */
    font-size: 18px;    /* Increased font size */
    font-weight: bold;
    color: #333;
    padding-bottom: 12px; /* Increased padding */
    border-bottom: 1px solid #eee;
}

/* --- Three-Column Wrapper --- */
.two-column-legend-visual .legend-content-wrapper-visual {
    display: flex;
    align-items: center; /* Vertically center align columns */
    justify-content: center; /* Center the whole block */
    gap: 70px;           /* Increased gap between columns */
    flex-wrap: wrap;     /* Allow wrapping on small screens */
    padding: 10px 0;     /* Add some vertical padding */
}

/* --- Side Columns (Left & Right) --- */
.two-column-legend-visual .legend-column {
    flex: 1;            /* Allow columns to grow/shrink */
    max-width: 260px;   /* Increased max width */
    min-width: 200px;   /* Adjusted min width */
    display: flex;
    flex-direction: column; /* Stack title and items vertically */
    gap: 15px;           /* Increased space between items */
    padding: 10px;       /* Add some internal padding */
    /* Optional: Add subtle background/border to columns */
    /* background-color: #fff; */
    /* border: 1px solid #e9ecef; */
    /* border-radius: 4px; */
}

.two-column-legend-visual .legend-column-title {
    font-size: 20px;    /* Increased font size */
    font-weight: bold;
    color: #34495e;
    margin: 0 0 10px 0; /* Adjusted margin */
    padding-bottom: 8px;
    border-bottom: 1px solid #ddd;
    display: flex;
    align-items: center;
}
/* Adjust title icon size */
.two-column-legend-visual .legend-column-title svg {
    width: 18px;
    height: 18px;
    margin-right: 6px; /* Increased margin */
}
.legend-column-left .legend-column-title { justify-content: flex-end; }
.legend-column-right .legend-column-title { justify-content: flex-start; }

/* --- Explanation Items (Common Styling) --- */
.two-column-legend-visual .explanation-item {
    display: flex;
    align-items: center;
    font-size: 15px;    /* Increased font size */
    line-height: 1.5;   /* Adjusted line height */
    color: #555;
    gap: 12px;         /* Increased gap */
}
.two-column-legend-visual .explanation-item p { margin: 0; }
.two-column-legend-visual .explanation-item strong { color: #333; }

.two-column-legend-visual .item-visuals {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 6px;           /* Increased gap */
    flex-shrink: 0;
    min-width: 50px;    /* Adjusted min width */
}
.two-column-legend-visual .item-text { flex-grow: 1; }

/* --- Left Column Specifics --- */
.legend-column-left { text-align: right; }
.legend-column-left .explanation-item { flex-direction: row-reverse; }

/* Left: Base marker example */
.legend-column-left .marker-example-base {
    width: 16px; height: 16px; /* Increased size */
    border-radius: 50%;
    background: linear-gradient(45deg, #FF5252, #FFAB40, #4CAF50);
    border: 1px solid #777;
}
.legend-column-left .district-color-placeholder { /* Optional specific color */
    /* background-color: #FFAB40; border-color: #E69A38; */
}

/* Left: Size explanation visuals */
.legend-column-left .size-explanation .item-visuals span {
    display: inline-block; border-radius: 50%; background-color: #FFAB40; border: 1px solid #E69A38;
}
.legend-column-left .size-explanation .marker-example-s { width: 12px; height: 12px; } /* Increased */
.legend-column-left .size-explanation .marker-example-m { width: 16px; height: 16px; } /* Increased */
.legend-column-left .size-explanation .marker-example-l { width: 20px; height: 20px; } /* Increased */

/* Left: Opacity explanation visuals */
.legend-column-left .opacity-explanation .item-visuals span {
    display: inline-block; width: 16px; height: 16px; /* Increased size */
    border-radius: 50%; border: 1px solid #E69A38;
}
.legend-column-left .opacity-explanation .marker-example-light { background-color: rgba(255, 171, 64, 0.6); }
.legend-column-left .opacity-explanation .marker-example-mid { background-color: rgba(255, 171, 64, 0.8); }
.legend-column-left .opacity-explanation .marker-example-dark { background-color: rgba(255, 171, 64, 1.0); }

/* --- Right Column Specifics --- */
.legend-column-right { text-align: left; }
.legend-column-right .explanation-item { flex-direction: row; }

.legend-column-right .circle-swatch {
    display: inline-block; width: 16px; height: 16px; /* Increased size */
    border-radius: 50%; border-width: 1.5px; /* Slightly thicker border */
    border-style: solid; flex-shrink: 0;
}
.circle-swatch.radius-5 { background-color: rgba(46, 204, 113, 0.2); border-color: #2ecc71; }
.circle-swatch.radius-10 { background-color: rgba(52, 152, 219, 0.15); border-color: #3498db; }
.circle-swatch.radius-15 { background-color: rgba(155, 89, 182, 0.1); border-color: #9b59b6; }

.legend-column-right .note {
    font-size: 1em;     /* Increased size */
    color: #7f8c8d; margin-top: 15px; font-style: italic; text-align: left;
}


/* --- Center Visual Element Styling --- */
.legend-visual-center {
    position: relative;
    width: 150px;       /* Significantly larger */
    height: 150px;
    flex-shrink: 0;
    /* margin: 0 10px; */ /* Adjust margin if needed */
}
.legend-visual-center > div {
    position: absolute; top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    border-radius: 50%; box-sizing: border-box;
}
.legend-visual-center .circle-15 { width: 100%; height: 100%; background-color: rgba(155, 89, 182, 0.1); border: 2px solid #9b59b6; z-index: 1;} /* Thicker border */
.legend-visual-center .circle-10 { width: 75%; height: 75%; background-color: rgba(52, 152, 219, 0.15); border: 2px solid #3498db; z-index: 2;} /* Thicker border */
.legend-visual-center .circle-5 { width: 50%; height: 50%; background-color: rgba(46, 204, 113, 0.2); border: 2px solid #2ecc71; z-index: 3;} /* Thicker border */
.legend-visual-center .center-dot { width: 20%; height: 20%; background-color: #FFAB40; border: 1.5px solid #E69A38; z-index: 4;} /* Thicker border */


/* --- Responsive Adjustments --- */
@media screen and (max-width: 768px) {
    .two-column-legend-visual .legend-content-wrapper-visual {
        flex-direction: column;
        gap: 25px; /* Adjust gap for vertical stack */
    }
    .two-column-legend-visual .legend-column {
        max-width: 90%; /* Allow columns to take more width */
        min-width: unset;
        align-items: center;
        text-align: center;
    }
    .legend-column-left .legend-column-title,
    .legend-column-right .legend-column-title {
        justify-content: center;
    }
    .two-column-legend-visual .explanation-item {
        flex-direction: column;
        text-align: center;
        gap: 8px; /* Adjust gap for vertical item stack */
        font-size: 12px; /* Slightly smaller font on mobile */
    }
    .two-column-legend-visual .item-visuals {
        order: 0; /* Visuals first */
        margin-bottom: 5px;
    }
     /* Ensure text alignment is centered */
    .legend-column-left .item-text,
    .legend-column-right .item-text {
        text-align: center;
    }

    .legend-visual-center {
        order: 1; /* Place visual between the two columns */
        width: 120px; /* Slightly smaller on mobile */
        height: 120px;
        margin: 10px 0; /* Adjust vertical margin */
    }
    .legend-column-left { order: 0; }
    .legend-column-right { order: 2; }

    .legend-column-right .note { text-align: center; } /* Center note text */

    /* Adjust visual example sizes for mobile */
    .legend-column-left .size-explanation .marker-example-s { width: 10px; height: 10px; }
    .legend-column-left .size-explanation .marker-example-m { width: 14px; height: 14px; }
    .legend-column-left .size-explanation .marker-example-l { width: 18px; height: 18px; }
    .legend-column-left .opacity-explanation .item-visuals span { width: 14px; height: 14px; }
    .legend-column-right .circle-swatch { width: 14px; height: 14px; }
}

@media screen and (max-width: 480px) {
     .legend-visual-center { width: 100px; height: 100px; }
     .two-column-legend-visual .explanation-item { font-size: 11px; }
     .two-column-legend-visual .legend-column-title { font-size: 13px; }
     .two-column-legend-visual .legend-main-title { font-size: 16px; }
}

/* --- 精确等时圈地图操作指南样式 --- */
.map-operation-guide.isochrone-guide {
    background-color: #eaf6ff; /* 淡蓝色背景 */
    border: 1px solid #bde0ff;
    box-shadow: 0 3px 10px rgba(0, 123, 255, 0.1); /* 蓝色调阴影 */
    color: #333;
}

.isochrone-guide h4 {
    color: #0056b3; /* 深蓝色标题 */
    border-bottom: 1px solid #bde0ff; /* 匹配边框颜色 */
}

.isochrone-guide .guide-steps {
    margin-top: 20px;
    display: flex;
    flex-direction: column; /* 步骤垂直排列 */
    gap: 20px; /* 步骤间距 */
}

.isochrone-guide .guide-step {
    display: flex;
    align-items: flex-start; /* 图标和文字顶部对齐 */
    gap: 15px; /* 图标和文字间距 */
    padding: 15px;
    background-color: #fff; /* 步骤内白色背景 */
    border-radius: 6px;
    border-left: 4px solid #007bff; /* 蓝色左边框 */
}

.isochrone-guide .step-icon {
    font-size: 1.8em; /* 图标大小 */
    color: #007bff; /* 图标颜色 */
    margin-top: 2px; /* 微调垂直对齐 */
    flex-shrink: 0;
    width: 30px; /* 固定宽度 */
    text-align: center;
}

.isochrone-guide .step-text {
    font-size: 1em;
    line-height: 1.6;
    flex-grow: 1;
}

.isochrone-guide .step-text strong {
    display: block;
    margin-bottom: 5px;
    color: #0056b3;
    font-size: 1.05em;
}

.isochrone-guide .step-text p {
    margin: 0 0 8px 0;
    color: #495057;
}

.isochrone-guide .sub-step {
    margin-left: 10px;
    margin-bottom: 8px;
    display: flex;
    align-items: center;
    font-size: 0.95em;
    color: #34495e;
}

/* 模拟按钮样式 */
.isochrone-guide .btn-example {
    display: inline-block;
    padding: 2px 6px;
    font-size: 0.85em; /* 按钮内文字稍小 */
    line-height: 1.4;
    color: #333;
    background-color: #e9ecef;
    border: 1px solid #ced4da;
    border-radius: 4px;
    margin: 0 2px; /* 微调按钮边距 */
    vertical-align: baseline; /* 与文字对齐 */
    white-space: nowrap;
}
.isochrone-guide .btn-example i {
    margin-right: 3px;
}
.isochrone-guide .btn-example.btn-click-mode {
     background-color: #f8d7da; /* 红色提示背景 */
     border-color: #f5c6cb;
     color: #721c24;
}

/* 响应式调整 */
@media screen and (max-width: 768px) {
    .isochrone-guide h4 {
        font-size: 1.3em;
        justify-content: flex-start; /* 小屏幕标题左对齐 */
    }
    .isochrone-guide .guide-step {
        padding: 12px;
    }
    .isochrone-guide .step-icon {
        font-size: 1.6em;
    }
    .isochrone-guide .step-text {
        font-size: 0.95em;
    }
     .isochrone-guide .btn-example { font-size: 0.8em; padding: 1px 4px;}
}
/* --- Annotation Styles (Optional) --- */
.chart-annotations {
    /* Container is already absolutely positioned */
    /* pointer-events: none; */ /* Set on container */
}

.chart-annotation-label {
    /* Styles are set inline via JS for dynamic positioning */
    transition: all 0.2s ease-out; /* Add transition for potential future interactions */
}

.chart-annotation-line {
    /* Styles are set inline via JS */
    transition: all 0.2s ease-out;
}